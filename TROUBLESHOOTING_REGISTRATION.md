# р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ "р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф р╕Бр╕гр╕╕р╕Ур╕▓р╕ер╕нр╕Зр╣Гр╕лр╕бр╣И" р╣Гр╕Щр╕Бр╕▓р╕гр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щ

## ЁЯУМ р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

р╕гр╕░р╕Ър╕Ър╕Бр╕│р╕ер╕▒р╕Зр╣Гр╕Кр╣Й **Mock API (р╕Чр╕Фр╕кр╕нр╕Ъ)** р╣Ар╕Юр╕гр╕▓р╕░р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Бр╕▓р╕г connect Google Apps Script Backend

## тЬЕ р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В 2 р╕зр╕┤р╕Шр╕╡

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╣Гр╕Кр╣Й Mock API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ъ (р╕Чр╕│р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡)

р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Вр╕Фр╕вр╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕│р╕ер╕нр╕З р╣Гр╕лр╣Йр╕ер╕нр╕Зр╣Гр╕Кр╣Й test account:

```
Email: admin@test.com р╕лр╕гр╕╖р╕н user@test.com
Password: admin123 р╕лр╕гр╕╖р╕н user1234
```

**р╕Вр╣Йр╕нр╕Ир╕│р╕Бр╕▒р╕Ф:** р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕░р╕лр╕▓р╕вр╣Др╕Ыр╣Ар╕бр╕╖р╣Ир╕н refresh р╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣М

---

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: Integrate Google Apps Script (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ир╕гр╕┤р╕З) тнР

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕кр╕гр╣Йр╕▓р╕З Google Apps Script Project

1. р╣Др╕Ыр╕Чр╕╡р╣И https://script.google.com
2. р╕Др╕ер╕┤р╕Б **"New Project"**
3. р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕н "PSR Backend"

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: Copy Code.gs

1. р╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╕ер╣М `google-apps-script/Code.gs` р╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╕Щр╕╡р╣Й
2. Copy р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
3. Paste р╣Гр╕Щ Google Apps Script editor
4. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Б (Ctrl+S)

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕кр╕гр╣Йр╕▓р╕З Google Sheet

1. р╣Др╕Ыр╕Чр╕╡р╣И https://sheets.google.com
2. р╕кр╕гр╣Йр╕▓р╕З Sheet р╣Гр╕лр╕бр╣Ир╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕н "PSR-Database"
3. р╕кр╕гр╣Йр╕▓р╕З Sheets (р╣Бр╕Хр╣Ир╕ер╕░р╕Кр╕╡р╕Ч = р╣Бр╕Чр╣Зр╕Ър╕Хр╣Ир╕▓р╕Зр╣Ж):
   - **Users** (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й)
   - **Requests** (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Др╕│р╕Вр╕н)
   - **Approvals** (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤)
   - **Beneficiaries** (р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М)
   - **MasterData** (р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З)

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 4: р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕лр╕▒р╕зр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М

р╣Гр╕Щ Sheet **Users** р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕нр╕ер╕▒р╕бр╕Щр╣М:
```
A: Email
B: Password Hash
C: Name
D: Nickname
E: Unit
F: Register Date
G: Status
H: Role
```

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 5: Deploy Google Apps Script

р╣Гр╕Щ Google Apps Script:
1. р╕Др╕ер╕┤р╕Б **"Deploy"** тЖТ **"New deployment"**
2. Type: **"Web app"**
3. Execute as: (р╣Ар╕ер╕╖р╕нр╕Бр╕нр╕╡р╣Ар╕бр╕ер╕Вр╕нр╕Зр╕Др╕╕р╕У)
4. Who has access: **"Anyone"**
5. р╕Др╕ер╕┤р╕Б **"Deploy"**
6. Copy URL р╕Чр╕╡р╣Ир╕Ыр╕гр╕▓р╕Бр╕П (р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕Фр╣Йр╕зр╕в `https://script.google.com/macros/d/...`)

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 6: р╕нр╕▒р╕Юр╣Ар╕Фр╕Х .env.local

р╣Ар╕Ыр╕┤р╕Фр╣Др╕Яр╕ер╣М `.env.local` р╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д (р╕Чр╕╡р╣И root folder) р╣Бр╕ер╕░р╣Бр╕Бр╣Йр╣Др╕В:

```dotenv
# р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б:
VITE_GAS_DEPLOYMENT_ID=https://script.google.com/macros/d/PASTE_YOUR_DEPLOYMENT_ID_HERE/usercontent
VITE_GOOGLE_SHEET_ID=PASTE_YOUR_GOOGLE_SHEET_ID_HERE

# р╣Гр╕лр╣Йр╣Ар╕Ыр╣Зр╕Щ: (р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З)
VITE_GAS_DEPLOYMENT_ID=https://script.google.com/macros/d/AKfycbXxZvWyPx2a5bfg3hijk4lmn5opqRstuVwxYzA/usercontent
VITE_GOOGLE_SHEET_ID=1BxfgA5bCdEfGhIjKlMnOpQrStUvWxYzAbCdEfG
```

**р╕зр╕┤р╕Шр╕╡р╕лр╕▓р╕Др╣Ир╕▓р╕Хр╣Ир╕▓р╕Зр╣Ж:**

- **VITE_GAS_DEPLOYMENT_ID:** Copy р╕Ир╕▓р╕Бр╕лр╕Щр╣Йр╕▓ Deploy р╕Вр╕нр╕З Google Apps Script
- **VITE_GOOGLE_SHEET_ID:** Get from URL
  ```
  https://docs.google.com/spreadsheets/d/{SHEET_ID}/edit
  ```

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 7: р╕гр╕╡р╕кр╕Хр╕▓р╕гр╣Мр╕Ч Dev Server

р╕Ыр╕┤р╕Фр╣Бр╕ер╕░р╣Ар╕Ыр╕┤р╕Ф terminal dev server р╣Гр╕лр╕бр╣И:
```bash
npm run dev
```

#### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 8: Share Google Sheet р╕Бр╕▒р╕Ъ Google Apps Script

1. р╣Ар╕Ыр╕┤р╕Ф Google Sheet р╕Вр╕нр╕Зр╕Др╕╕р╕У
2. р╕Др╕ер╕┤р╕Б **"Share"** (р╕бр╕╕р╕бр╕Ър╕Щ)
3. Share р╕Бр╕▒р╕Ъ Google Apps Script project р╕Фр╣Йр╕зр╕вр╕кр╕┤р╕Чр╕Шр╕┤р╣М **Editor**

---

## ЁЯзк р╕Чр╕Фр╕кр╕нр╕Ър╕гр╕░р╕Ър╕Ъ

р╣Ар╕Ыр╕┤р╕Ф Register page р╣Бр╕ер╕░:
- р╕Бр╕гр╕Ур╕╡р╣Гр╕Кр╣Й Mock API: р╣Гр╕Кр╣Й test account р╣Др╕Фр╣Йр╕Чр╕▒р╕Щр╕Чр╕╡
- р╕Бр╕гр╕Ур╕╡ Backend р╕Ир╕гр╕┤р╕З: р╕ер╕нр╕Зр╕ер╕Зр╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╣Гр╕лр╕бр╣Ир╣Вр╕Фр╕вр╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕З

---

## тЭМ р╕Цр╣Йр╕▓р╣Ар╕Бр╕┤р╕Фр╕Вр╣Йр╕нр╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕нр╕╡р╕Б

### Error: "Backend р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н"
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ `.env.local` р╕зр╣Ир╕▓ VITE_GAS_DEPLOYMENT_ID р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╕гр╕╡р╕кр╕Хр╕▓р╕гр╣Мр╕Ч dev server
- тЬЕ Clear browser cache (Ctrl+Shift+Delete)

### Error: "Google Apps Script р╕Вр╕▓р╕Ф permission"
- тЬЕ р╣Др╕Ыр╕Чр╕╡р╣И Google Apps Script > Execution log
- тЬЕ р╕Фр╕╣р╕зр╣Ир╕▓ authorization prompt р╕Ыр╕гр╕▓р╕Бр╕Пр╣Др╕лр╕б
- тЬЕ р╣Гр╕лр╣Й permission р╕Бр╕▒р╕Ъ Google Account

### Error: "Google Sheet р╣Др╕бр╣Ир╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕н"
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ share Google Sheet р╕Бр╕▒р╕Ъ Google Apps Script user р╣Бр╕ер╣Йр╕зр╣Др╕лр╕б
- тЬЕ р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Sheets (Users, Requests р╕пр╕ер╕п) р╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з

---

## ЁЯУЮ Support

р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б р╕Фр╕╣:
- [SETUP_INSTRUCTIONS.md](./SETUP_INSTRUCTIONS.md)
- [QUICKSTART.md](./QUICKSTART.md)
- [google-apps-script/README.md](./google-apps-script/README.md)
